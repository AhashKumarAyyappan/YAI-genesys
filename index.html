<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YAI</title>

</head>

<body>
    <div>
        <h1>YAI</h1>
        <table>
            <tr>
                <td>
                    <h2>Customer Mobile No:</h2>
                </td>
                <td>
                    <input id="customerNumber" style="width: 300px; height: 20px;" type="number">
                </td>
            </tr>
            <tr>
                <td>
                    <h2>Agent Name:</h2>
                </td>
                <td>
                    <input id="agentname" style="width: 300px; height: 20px;" type="text">
                </td>
            </tr>

            <!-- <tr>
                <td>
                 
                </td>
            </tr> -->
        </table>
        <button onclick="result()" id="sub" style="width: 100px; height: 40px;" type="submit">Submit</button>
        <button onclick="reset()" id="sub" style="width: 100px; height: 40px;" type="reset">Reset</button>
        <script>
            var num = document.getElementById("customerNumber")
            var aname = document.getElementById("agentname")
            var butn = document.getElementById("sub")


            function result() {

                if (aname.value == "" || num.value == "" || num.value == "null" || aname.value == "null") {
                    alert("Type the values and click submit")
                    window.location.reload();
                }

                console.log(aname.value)
                console.log(num.value)
                // window.parent.postMessage(
                //     JSON.stringify({
                //         "event_code": "ym-client-event",
                //         "data": {
                //             "cusNo" : num.value,
                //             "agentName" : aname.value
                //         }
                //     }),)
                var str = "ahash test"

                let myHeaders = new Headers();
                myHeaders.append("Accept", "application/json");
                myHeaders.append("Accept-Language", "en-GB,en-US;q=0.9,en;q=0.8");
                myHeaders.append("Access-Control-Allow-Origin", "*");
                myHeaders.append("Authorization", "a9c98542de90bba5baae968fdd76");
                myHeaders.append("Connection", "keep-alive");
                myHeaders.append("Content-Type", "application/json");
                myHeaders.append("Origin", "https://github.com/AhashKumarAyyappan");
                myHeaders.append("Referer", "https://github.com/AhashKumarAyyappan");
                myHeaders.append("Sec-Fetch-Dest", "empty");
                myHeaders.append("Sec-Fetch-Mode", "cors");
                myHeaders.append("Sec-Fetch-Site", "cross-site");
                myHeaders.append("User-Agent", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36");
                myHeaders.append("sec-ch-ua", "\"Chromium\";v=\"112\", \"Google Chrome\";v=\"112\", \"Not:A-Brand\";v=\"99\"");
                myHeaders.append("sec-ch-ua-mobile", "?0");
                myHeaders.append("sec-ch-ua-platform", "\"macOS\"");
                myHeaders.append("x-api-key", "ySj09lZvN4o6K1Xl1WYeBHVQtlvIMe5J2N6M9dU-");

                let requestOptions = {
                    method: 'POST',
                    headers: myHeaders,
                    body: str,
                    redirect: 'follow'
                };

                fetch("https://cors-anywhere.herokuapp.com/https://cloud.yellow.ai/integrations/sendevent/data-from-genesys/x1713349981681", requestOptions)
                    // .then(response => response.text())
                    .then(result => console.log(result))
                    .catch(error => console.log('error', error));
            }

            function reset() {
                window.location.reload();
            }
        </script>
    </div>
</body>

</html>
